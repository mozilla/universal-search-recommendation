from os import environ as env


DEBUG = env.get('RECOMMENDATION_ENV', 'development') == 'development'
TESTING = env.get('RECOMMENDATION_TESTING', None) == 'true'

KEY_PREFIX = env.get('RECOMMENDATION_KEY_PREFIX', 'query_')
SERVER_NAME = env.get('RECOMMENDATION_SERVER_NAME', 'universal-search.dev')

CACHE_TTL = int(env.get('RECOMMENDATION_CACHE_TTL', 7 * 24 * 60 * 60))
MEMCACHED_TTL = int(env.get('RECOMMENDATION_MEMCACHED_TTL', CACHE_TTL))
IMAGEPROXY_TTL = int(env.get('IMAGEPROXY_TTL', CACHE_TTL))

BING_ACCOUNT_KEY = env.get('BING_ACCOUNT_KEY', '')
EMBEDLY_API_KEY = env.get('EMBEDLY_API_KEY', '')
YAHOO_OAUTH_KEY = env.get('YAHOO_OAUTH_KEY', '')
YAHOO_OAUTH_SECRET = env.get('YAHOO_OAUTH_SECRET', '')

RECOMMENDATION_SERVICES = env.get('RECOMMENDATION_SERVICES')
if DEBUG and RECOMMENDATION_SERVICES:
    CELERY_BROKER_URL = 'redis://%s:6379/0' % RECOMMENDATION_SERVICES
    MEMCACHED_HOST = '%s:11211' % RECOMMENDATION_SERVICES
else:
    CELERY_BROKER_URL = env.get('CELERY_BROKER_URL', 'redis://redis:6379/0')
    MEMCACHED_HOST = env.get('MEMCACHED_HOST', 'memcached:11211')
